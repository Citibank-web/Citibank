<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Transaction History - Citibank</title>
<style>
  body { font-family: Arial; margin:0; background:#f2f2f2; }
  table { width:100%; border-collapse:collapse; margin-top:20px; }
  th, td { padding:10px; border:1px solid #ccc; text-align:left; }
  th { background:#003366; color:white; }
</style>
</head>
<body onload="loadHistory()">

<h2>Transaction History</h2>
<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Type</th>
      <th>Amount</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody id="historyTable"></tbody>
</table>

<script>
function loadHistory() {
  const u = JSON.parse(localStorage.getItem("currentUser"));
  if(!u) { window.location.href="index.html"; return; }
  const tbody = document.getElementById("historyTable");
  tbody.innerHTML = "";
  u.transactions.forEach(t => {
    const row = `<tr>
      <td>${t.date}</td>
      <td>${t.type}</td>
      <td>$${t.amount.toLocaleString()}</td>
      <td>${t.status}</td>
    </tr>`;
    tbody.innerHTML += row;
  });
}
</script>

</body>
</html>